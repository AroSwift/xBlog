!!! 5
%html
  %head
    %meta{:charset => "utf-8"}/
    %title= yield :current_page
    %link{:href => "style.css", :rel => "stylesheet"}/
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
    = javascript_include_tag 'application', 'data-turbolinks-track' => true
    = csrf_meta_tags
    %script{:src => "script.js"}
  %body
    %header
      %h1 xBlog
      %nav
        - if session[:current_user_id].present? && session[:current_username].present? && session[:admin].nil? then
          = link_to 'Home', home_path, :class => ("it" unless !current_page?(:home))
          = link_to 'Post', post_path, :class => ("it" if current_page?(:post) || current_page?(:edit_post))
          = link_to 'Logout', logout_path, :method => :delete, :class => ("it" unless !current_page?(:logout))
        - elsif session[:current_user_id].present? && session[:current_username].present? && session[:admin] == true then
          = link_to 'Home', admin_home_path, :class => ("it" unless !current_page?(:admin_home))
          = link_to 'Post', post_path, :class => ("it" if current_page?(:post) || current_page?(:edit_post))
          = link_to 'Logout', admin_logout_path, :method => :delete, :class => ("it" unless !current_page?(:admin_logout))
        - else
          = link_to 'Home', home_path, :class => ("it" unless !current_page?(:home))
          = link_to 'Login', login_path, :class => ("it" unless !current_page?(:login))
          = link_to 'Sign Up', signup_path, :class => ("it" unless !current_page?(:signup))
    %section
      %h2= yield :current_page
      - if !params[:errors].nil?
        - params[:errors].each do |msg|
          = content_tag :div, msg, class: "error_msg"
      - if !params[:display].nil?
        = content_tag :div, params[:display], class: "error_msg"
      = yield
    %footer
      barlowat@ORNL.gov